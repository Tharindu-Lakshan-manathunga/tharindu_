<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<<<<<<< HEAD

  <title>Tharindu Lakshan - Associate Engineer Portfolio</title>

  <meta name="description" content="Tharindu Lakshan - Associate System Support Engineer & Final Year CSNE Undergraduate. Expert in Linux, DevOps, Cloud (AWS, Azure), and production-grade deployments." />
  <meta name="keywords" content="Associate Engineer, DevOps, Tharindu Lakshan, SLIIT, EPIC Lanka, Docker, Kubernetes, Linux, AWS, Azure, CI/CD, Cloud" />

  <link rel="stylesheet" href="style.css" />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
  <!-- Three.js for advanced 3D effects on canvas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <!-- Firebase scripts for page view counter and authentication -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { 
      getAuth, signInAnonymously, signInWithCustomToken, 
      createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged 
    } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    let app, db, auth;
    let currentUserId = null; // To store the authenticated or anonymous user ID

    document.addEventListener('DOMContentLoaded', async () => {
      try {
        // Firebase configuration - REPLACE THESE PLACEHOLDERS WITH YOUR ACTUAL VALUES
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
          apiKey: "AIzaSyBrKxbLTDgXyZ4H16yRa5wcULfBSJdHONc",
          authDomain: "tharindu-lakshan-portfolio.firebaseapp.com",
          projectId: "tharindu-lakshan-portfolio",
          storageBucket: "tharindu-lakshan-portfolio.firebasestorage.app",
          messagingSenderId: "239343471618",
          appId: "1:239343471618:web:35cf790c42d39d68b86b1b",
          measurementId: "G-YGK77RQC01"
        };
        
        // This appId will be used for the Firestore path
        // For local/Netlify, it uses the appId from your firebaseConfig.
        // For Canvas, it uses the Canvas-provided __app_id.
        const appId = typeof __app_id !== 'undefined' ? __app_id : firebaseConfig.appId;
        console.log("Firebase App ID being used:", appId);

        // Only initialize Firebase if a valid config is provided
        if (firebaseConfig.apiKey && firebaseConfig.projectId && firebaseConfig.projectId !== "YOUR_FIREBASE_PROJECT_ID") {
=======
  
  <!-- Page title -->
  <title>Tharindu Lakshan - System Engineer Portfolio</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Tharindu Lakshan - System Support Engineer & Final Year CSNE Undergraduate. Expert in Linux, DevOps, Cloud (AWS, Azure), and production-grade deployments." />
  <meta name="keywords" content="System Engineer, DevOps, Tharindu Lakshan, SLIIT, EPIC Lanka, Docker, Kubernetes, Linux, AWS, Azure, CI/CD, Cloud" />
  
  <!-- External CSS -->
  <link rel="stylesheet" href="style.css" />
  
  <!-- Google Fonts - Poppins is versatile for this theme -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <!-- Typed.js for typing effect -->
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>

  <!-- Firebase SDKs for Firestore (for page view counter) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    // Global Firebase instances
    let app, db, auth;

    // Initialize Firebase and increment page view count
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        // Use user's provided firebaseConfig directly if available, otherwise fallback.
        // For Canvas environment, __firebase_config is usually injected.
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
          apiKey: "AIzaSyAXGyv_yx0_HzMvrHeP_wEMfgIA4xWZRtc",
          authDomain: "aboutme-7847c.firebaseapp.com",
          projectId: "aboutme-7847c",
          storageBucket: "aboutme-7847c.firebasestorage.app",
          messagingSenderId: "716099738411",
          appId: "1:716099738411:web:35345db819b912c211836e",
          measurementId: "G-SHFHC1QQ0R"
        };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        if (Object.keys(firebaseConfig).length > 0) {
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);

<<<<<<< HEAD
            // Listen for auth state changes (login, logout, anonymous sign-in)
            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    // User is signed in (could be anonymous or email/password)
                    currentUserId = user.uid;
                    const userEmail = user.email || 'anonymous';
                    console.log("Authenticated User ID:", currentUserId);
                    console.log("Authenticated User Email:", userEmail);

                    const userIdDisplayElement = document.getElementById('user-id-display');
                    if (userIdDisplayElement) {
                        userIdDisplayElement.textContent = `Visitor ID: ${currentUserId.substring(0, 8)}... (${userEmail})`;
                    }

                    // Update UI for logged-in state
                    const loginButton = document.getElementById('login-btn');
                    const logoutButton = document.getElementById('logout-btn');
                    if (loginButton) loginButton.style.display = 'none';
                    if (logoutButton) logoutButton.style.display = 'block';

                } else {
                    // User is signed out or not yet signed in. Attempt anonymous sign-in.
                    currentUserId = crypto.randomUUID(); // Fallback for pre-auth user ID
                    console.log("No authenticated user. Attempting anonymous sign-in or using temp ID.");

                    try {
                        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
                        if (initialAuthToken) {
                            await signInWithCustomToken(auth, initialAuthToken);
                            console.log("Firebase authenticated with custom token (Canvas environment).");
                            currentUserId = auth.currentUser.uid; // Update to actual UID from Canvas auth
                        } else {
                            // Only sign in anonymously if not already authenticated by custom token
                            if (!auth.currentUser || auth.currentUser.isAnonymous) {
                                await signInAnonymously(auth);
                                console.log("Firebase authenticated anonymously.");
                                currentUserId = auth.currentUser.uid; // Update to actual anonymous UID
                            }
                        }
                    } catch (error) {
                        console.error("Error during anonymous sign-in:", error);
                        // If anonymous sign-in fails, currentUserId remains a temporary UUID
                    }

                    // Update UI for logged-out state
                    const loginButton = document.getElementById('login-btn');
                    const logoutButton = document.getElementById('logout-btn');
                    if (loginButton) loginButton.style.display = 'block';
                    if (logoutButton) logoutButton.style.display = 'none';
                }

                // AFTER authentication state is determined, log page view
                if (currentUserId) { // Ensure we have a user ID before logging
                    const pageViewsDocRef = doc(db, `artifacts/${appId}/public/data/website_analytics/page_views`);
                    await setDoc(pageViewsDocRef, {
                        count: increment(1),
                        lastViewedAt: new Date(),
                        lastViewedBy: currentUserId, // Log the current (auth or anonymous) user ID
                        lastViewedByEmail: auth.currentUser?.email || 'anonymous', // Log email if available
                        userAgent: navigator.userAgent,
                        referrer: document.referrer || 'direct'
                    }, { merge: true });
                    const docSnap = await getDoc(pageViewsDocRef);
                    if (docSnap.exists()) {
                        console.log(`Current Website Views: ${docSnap.data().count}`);
                    } else {
                        console.log("Page views counter initialized in Firestore.");
                    }
                }
            });

            // Make auth functions globally accessible for the forms
            window.firebaseAuth = {
                createUserWithEmailAndPassword,
                signInWithEmailAndPassword,
                signOut,
                auth // Pass the auth instance
            };

        } else {
            console.warn("Firebase configuration incomplete or not provided. Firebase Auth and page view counter will not function.");
        }
      } catch (error) {
        console.error("Error initializing Firebase:", error);
      }
    });
  </script>
  <!-- Link to the main JavaScript file for all interactions and animations -->
  <script src="script.js" defer></script>
</head>
<body data-theme="dark">
  <!-- Preloader for a smooth loading experience -->
=======
            // Authenticate user (anonymously if no custom token)
            const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
            if (initialAuthToken) {
                await signInWithCustomToken(auth, initialAuthToken);
                console.log("Firebase authenticated with custom token.");
            } else {
                await signInAnonymously(auth);
                console.log("Firebase authenticated anonymously.");
            }
            
            // Get user ID after authentication
            const userId = auth.currentUser?.uid || crypto.randomUUID(); // Fallback to random UUID if no UID

            // Display userId in the footer
            const userIdDisplayElement = document.getElementById('user-id-display');
            if (userIdDisplayElement) {
                userIdDisplayElement.textContent = `User ID: ${userId}`;
            }

            // Reference to the page view counter document (public data)
            // Stored in /artifacts/{appId}/public/data/{your_collection_name}/{documentId}
            const pageViewsDocRef = doc(db, `artifacts/${appId}/public/data/website_analytics/page_views`);

            // Increment the counter
            await setDoc(pageViewsDocRef, { count: increment(1), lastViewedAt: new Date(), lastViewedBy: userId }, { merge: true });
            
            // Get the current count and log it (for user's private view in console)
            const docSnap = await getDoc(pageViewsDocRef);
            if (docSnap.exists()) {
                console.log(`Current Website Views: ${docSnap.data().count}`);
            } else {
                console.log("Page views counter initialized.");
            }

        } else {
            console.warn("Firebase configuration not found. Page view counter will not function.");
        }
      } catch (error) {
        console.error("Error initializing Firebase or incrementing page view count:", error);
      }
    });
  </script>

</head>
<body data-theme="dark">
  <!-- Preloader -->
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
  <div id="preloader">
    <div class="loader"></div>
  </div>

<<<<<<< HEAD
  <!-- Main Navigation Bar -->
  <nav class="navbar">
    <div class="container">
      <!-- Theme Toggle Button -->
      <button id="theme-toggle-btn" class="theme-toggle-btn" aria-label="Toggle dark and light theme">
        <i class="fas fa-sun"></i> <i class="fas fa-moon"></i>
      </button>

=======
  <!-- Navbar Section -->
  <nav class="navbar">
    <div class="container">
      <!-- Theme Toggle Button - Moved to Left -->
      <button id="theme-toggle-btn" class="theme-toggle-btn" aria-label="Toggle dark and light theme">
        <i class="fas fa-sun"></i> <!-- Sun icon for light mode -->
        <i class="fas fa-moon"></i> <!-- Moon icon for dark mode -->
      </button>

      <!-- Logo / Brand -->
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
      <div class="logo">Tharindu</div>

      <!-- Navigation Links -->
      <ul class="nav-links">
        <li><a href="#hero" class="nav-link active">Home</a></li>
        <li><a href="#about" class="nav-link">About</a></li>
        <li><a href="#projects" class="nav-link">Projects</a></li>
        <li><a href="#achievements" class="nav-link">Achievements</a></li>
        <li><a href="#experience" class="nav-link">Experience</a></li>
        <li><a href="#skills" class="nav-link">Skills</a></li>
<<<<<<< HEAD
        <li><a href="#services" class="nav-link">Services</a></li>
        <li><a href="#interactive-showcase" class="nav-link">Showcase</a></li>
=======
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
        <li><a href="#cv" class="nav-link">CV</a></li>
        <li><a href="#testimonials" class="nav-link">Testimonials</a></li>
        <li><a href="#gallery" class="nav-link">Gallery</a></li>
        <li><a href="#contact" class="nav-link">Contact</a></li>
      </ul>
<<<<<<< HEAD
      <!-- Auth Buttons moved to their own container for better layout control -->
      <div class="nav-auth-buttons">
        <button id="login-btn" class="nav-link auth-btn">Login / Signup</button>
        <button id="logout-btn" class="nav-link auth-btn" style="display: none;">Logout</button>
      </div>
    </div>
  </nav>

  <!-- Hero Section - First Impression with Video Background -->
  <section id="hero" class="hero-section">
    <!-- Background Video: autoplay, loop, playsinline, muted -->
    <video autoplay loop playsinline muted id="background-video">
        <source src="/images/144586-785095790.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <!-- Canvas for subtle, interactive particle animations using Three.js -->
=======
    </div>
  </nav>

  <!-- Hero Section - Intro & Typing Effect with Canvas Background Animation -->
  <section id="hero" class="hero-section">
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
    <canvas id="hero-background-canvas" class="hero-background-canvas"></canvas>
    <div class="container hero-content">
      <h1 class="animate-hero-text">Hello, I'm <span class="name">Tharindu Lakshan</span></h1>
      <h2 class="animate-hero-text">
<<<<<<< HEAD
        <!-- Typed.js will insert dynamic text here -->
        <span id="typed-text"></span><span class="cursor">|</span>
      </h2>
      <p class="animate-hero-text">Associate System Engineer and Computer Systems & Network Engineering Undergraduate with strong skills in DevOps, Linux, Cloud Computing, CI/CD, and IT Infrastructure Automation.</p>
=======
        <!-- Typed Text Animation -->
        <span id="typed-text"></span><span class="cursor">|</span>
      </h2>
      <p class="animate-hero-text">System Support Engineer and Computer Systems & Network Engineering Undergraduate with strong skills in DevOps, Linux, Cloud Computing, CI/CD, and IT Infrastructure Automation.</p>
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
      <a href="#contact" class="btn-primary animate-hero-button">Connect with Me</a>
    </div>
  </section>

<<<<<<< HEAD
  <!-- About Section - Introducing Yourself -->
  <section id="about" class="about-section reveal">
    <div class="container about-content">
      <!-- Profile Image with Glitch/Hover Effect -->
      <div class="about-image-glitch-wrapper">
        <div class="about-image-glitch-container">
            <!-- Replace with your actual profile image -->
            <img src="/images/tharindu_db-updated.png" alt="Tharindu Lakshan Profile Picture" class="profile-main-image" />
=======
  <!-- About Me Section -->
  <section id="about" class="about-section reveal">
    <div class="container about-content">
      <!-- Profile Image - Dynamic layered glitch design -->
      <div class="about-image-glitch-wrapper">
        <div class="about-image-glitch-container">
            <img src="tl_09.jpeg" alt="Tharindu Lakshan Profile Picture" class="profile-main-image" />
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
            <div class="glitch-line line-1"></div>
            <div class="glitch-line line-2"></div>
            <div class="glitch-overlay"></div>
        </div>
      </div>
<<<<<<< HEAD

      <!-- About Me Text Content -->
      <div class="about-text">
        <h2 class="about-title">About Me</h2>
        <p class="about-paragraph">I'm a results-oriented IT professional with a deep interest in building resilient, scalable, and secure IT systems. At EPIC Lanka, I contributed to key e-government and financial sector deployments, focusing on automation, high availability, and monitoring.</p>
        <p class="about-paragraph">My academic foundation from SLIIT, combined with real-world DevOps and system administration experience, enables me to engineer efficient solutions across complex infrastructure environments.</p>

        <ul class="about-features">
          <li class="about-feature-item">
            <span class="about-feature-icon">üêß</span> Hands-on with Linux, Docker, Jenkins, Databases
          </li>
          <li class="about-feature-item">
            <span class="about-feature-icon">‚òÅÔ∏è</span> Experience with AWS & Azure platforms
          </li>
          <li class="about-feature-item">
            <span class="about-feature-icon">üìà</span> Monitoring via Grafana, Prometheus, Netdata
          </li>
          <li class="about-feature-item">
            <span class="about-feature-icon">üí°</span> Passionate about learning, automation, cloud platforms and collaboration
          </li>
=======
      
      <!-- About Text and Skills -->
      <div class="about-text">
        <h2>About Me</h2>
        <p>I'm a results-oriented IT professional with a deep interest in building resilient, scalable, and secure IT systems. At EPIC Lanka, I contributed to key e-government and financial sector deployments, focusing on automation, high availability, and monitoring.</p>
        <p>My academic foundation from SLIIT, combined with real-world DevOps and system administration experience, enables me to engineer efficient solutions across complex infrastructure environments.</p>
        
        <!-- Quick Skills List -->
        <ul>
          <li>üöÄ Hands-on with Linux, Docker, Jenkins, Kubernetes</li>
          <li>‚òÅÔ∏è Experience with AWS & Azure platforms</li>
          <li>üìà Monitoring via Grafana, Prometheus, Netdata</li>
          <li>üí° Passionate about learning, automation, and collaboration</li>
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
        </ul>
      </div>
    </div>
  </section>

<<<<<<< HEAD
  <!-- Projects Section - Showcase Your Work -->
  <section id="projects" class="projects-section reveal">
    <div class="container">
      <h2 class="section-title">Projects</h2>

      <div class="cards-grid">
        <!-- Project Card 1 -->
         <div class="card-item">
          <h3>Final Year Research Project - AgrySense360</h3>
          <p>Predictive Analytics for Yield Optimization: To forecast crop yields, optimize planting schedules, and enhance productivity.</p>
          <a href="https://tharindu-lakshan-manathunga.github.io/Agrysense360/" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 2 -->
        <div class="card-item">
          <h3>Samba Active Directory Deployment</h3>
          <p>Installed and configured Samba as an Active Directory Domain Controller on Linux to manage user authentication and policy-based access control within a mixed OS environment.</p>
          <p class="technologies"><strong>Technologies:</strong> VMware Workstation, Ubuntu, Windows 10 Pro</p>
          <a href="https://drive.google.com/drive/folders/1EkvWuNMR3bIntsO2FMrclljnz1oZw6mh?usp=sharing" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 3 -->
        <div class="card-item">
          <h3>Oracle 12c Cloud-Based DB Setup</h3>
          <p>Deployed Oracle 12c Database on Microsoft Azure, configured PDBs, managed users and implemented backup/recovery and security mechanisms for high availability.</p>
          <p class="technologies"><strong>Technologies:</strong> Oracle 12c, Azure Cloud, SQL, Windows</p>
          <a href="https://drive.google.com/drive/folders/1NV7AFb1ROgR6RgcixP0rfgLkSSA0AOUG?usp=sharing" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 4 -->
        <div class="card-item">
          <h3>Hospital Network Simulation</h3>
          <p>Designed and documented an end-to-end healthcare facility network layout including routing, switching, and security protocols using simulation tools.</p>
          <p class="technologies"><strong>Technologies:</strong> Cisco Packet Tracer, Networking Fundamentals</p>
        
        </div>
        <!-- Project Card 5 -->
        <div class="card-item">
          <h3>Monitoring of Microservices, Application Servers, and Databases</h3>
          <p>Implemented and visualized system and application metrics for enterprise microservices using Grafana, Prometheus, JMX Exporter, and Node Exporter.</p>
          <p class="technologies"><strong>Technologies:</strong> Grafana, Prometheus, Node Exporter, JMX Exporter</p>
          <a href="https://github.com/Tharindu-Lakshan-manathunga/Monitoring.git" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 6 -->
        <div class="card-item">
          <h3>Multi-Tier Environment for DOXMATE</h3>
          <p>Engineered multi-tier production and UAT environments with NGINX reverse proxies, HAProxy for load balancing, and cluster-based database solutions for critical applications.</p>
          <p class="technologies"><strong>Technologies:</strong> RHEL 8, Java 8/11, Python, MySQL 5.7, Percona XtraDB Cluster, HAProxy, Apache Tomcat, NFS</p>
          
        </div>
        <!-- Project Card 7 -->
        <div class="card-item">
          <h3>DevOps CI/CD Pipeline Automation</h3>
          <p>Automated build, test, and deployment processes for microservices using Jenkins and Ansible, ensuring rapid delivery and rollback support with containerization tools.</p>
          <p class="technologies"><strong>Technologies:</strong> Jenkins, Ansible, Docker, Prometheus, Grafana, Git, CentOS 7</p>
         
        </div>
        <!-- Project Card 8 -->
        <div class="card-item">
          <h3>Mission-Critical Gov System Support</h3>
          <p>Configuration, Maintenance, and Issue Resolution of UAT and Live Environments for Mission-Critical Government Projects.
             (Valuation Department Stamp Duty Opinion System, Business Name Registration System, Coastal Ministry and Ministry of
               Foreign Affairs Systems - Associated with Epic Lanka)</p>
          <p class="technologies"><strong>Technologies:</strong> RHEL 8, GlassFish, NGINX, Apache, MySQL, Java, Docker, NFS</p>
          
        </div>
        <!-- Project Card 9 -->
        <div class="card-item">
          <h3>High Availability with ProxySQL</h3>
          <p>Configured ProxySQL in front of a Percona XtraDB Cluster to ensure high-availability, fault tolerance, and transparent failover for production database workloads.</p>
          <p class="technologies"><strong>Technologies:</strong> ProxySQL, Percona XtraDB Cluster, MySQL, RHEL</p>
          <a href="https://github.com/Tharindu-Lakshan-manathunga/percona.git" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 10 -->
        <div class="card-item">
          <h3>CI/CD for Microservices</h3>
          <p>Designed and implemented CI/CD pipelines for 7 backend and 2 frontend services using Jenkins, Docker, Git, and Ansible.</p>
          <p class="technologies"><strong>Technologies:</strong> Jenkins, Docker, Git, RHEL 8</p>
          <a href="https://github.com/Tharindu-Lakshan-manathunga/ci-cd.git" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 11 -->
        <div class="card-item">
          <h3>Aqua Sync-Tech Smart Water Meter Billing and Monitoring with Mobile Application</h3>
          <p>Aqua Sync-Tech is a smart IoT-based water metering system that tracks real-time water usage, detects leaks, and supports remote control. It syncs with a mobile app for easy access by customers and Sri Lanka Water Board staff.</p>
          <p class="technologies"><strong>Technologies:</strong> NodeMcu, Arduino IDE, Arduino C</p>
          <a href="https://github.com/Tharindu-Lakshan-manathunga/Aqua-Sync-Tech-Smart-Water-Meter-for-Billing-and-Monitoring-with-Mobile-Application.-.git" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
        </div>
        <!-- Project Card 12 -->
        <div class="card-item">
          <h3>NFV Demonstration with Socket Programming in C</h3>
          <p>Demonstrated Network Function Virtualization (NFV) using OpenStack and OpenDaylight. Built and simulated VNFs and SDN functions over Ubuntu Server using socket programming for dynamic network operations.</p>
          <p class="technologies"><strong>Technologies:</strong> Ubuntu Server, OpenStack (NFVOs), OpenDaylight (SDN, VNFs), C</p>
         
        </div>
      </div>
    </div>
  </section>

  <!-- Achievements Section - Highlight Your Certifications and Accomplishments -->
  <section id="achievements" class="achievements-section reveal">
    <div class="container">
      <h2 class="section-title">Achievements & Certifications</h2>
      <div class="cards-grid">
        <div class="card-item">
          <h3>Introduction to DevOps</h3>
          <p>Coursera Certificate in DevOps principles and practices.</p>
          <p class="technologies"><strong>Platform:</strong> Coursera</p>
          <a href="https://coursera.org/verify/K9CPKJBQG2AQ" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>Introduction to Cloud Computing</h3>
          <p>Foundational certification in cloud concepts.</p>
          <p class="technologies"><strong>Provider:</strong> Issued by Coursera | Authorized by IBM</p>
          <a href="https://coursera.org/verify/HSH46GNSHFR9" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>Introduction to Linux Commands and Shell Scripting</h3>
          <p>Issued by Coursera | Authorized by IBM</p>
          <p class="technologies"><strong>Provider:</strong> Coursera</p>
          <a href="https://www.coursera.org/account/accomplishments/verify/5642URKQTLZA" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>AWS Cloud Technical Essentials</h3>
          <p>Issued by Coursera | Authorized by AWS</p>
          <p class="technologies"><strong>Provider:</strong> Coursera</p>
          <a href="https://coursera.org/verify/JZVQKXPCFJGQ" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>Introduction to Containers</h3>
          <p>Docker, Kubernetes & OpenShift.</p>
          <p class="technologies"><strong>Provider:</strong> Issued by Coursera | Authorized by IBM</p>
          <a href="https://coursera.org/verify/5642URKQTLZA" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>Oracle OCI Foundations Associate</h3>
          <p>Oracle Cloud Infrastructure 2023 Certified.</p>
          <p class="technologies"><strong>Provider:</strong> Oracle</p>
          <a href="https://catalog-education.oracle.com/pls/certview/sharebadge?id=D4C91D9E6812461D49302B660CEB4E1B7F59B350CD122C86C51536140724527E" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>Introduction to Networks</h3>
          <p>Cisco Networking Academy.</p>
          <p class="technologies"><strong>Provider:</strong> Cisco</p>
          <a href="https://www.credly.com/badges/e5b634ba-9350-47a7-85ad-4c4f2b5e6a16/linked_in_profile" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>AZ-104: Azure Administrator</h3>
          <p>Certification demonstrating proficiency in Azure administration.</p>
          <p class="technologies"><strong>Provider:</strong> KodeKloud</p>
          <a href="https://learn.kodekloud.com/certificate/7e8274af-d166-4ab8-8430-3a9f5101670c" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
        <div class="card-item">
          <h3>Learn Ansible Basics</h3>
          <p>Certification demonstrating proficiency in Ansible automation.</p>
          <p class="technologies"><strong>Provider:</strong> KodeKloud</p>
          <a href="https://learn.kodekloud.com/certificate/8773f796-bd21-4d93-8504-c12d80feeb4a" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Credential</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Experience Section - Your Professional Journey -->
  <section id="experience" class="experience-section reveal">
    <div class="container">
      <h2 class="section-title">Experience</h2>
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <h3>Associate System Engineer</h3>
            <h4>EPIC Lanka (Pvt) Ltd. | Colombo, Sri Lanka</h4>
            <p class="duration">March 2025 ‚Äì Present</p>
            <ul>
              <li>Manage and optimize Linux and Windows systems in production and UAT environments, ensuring high availability, security, and compliance.</li>
              <li>Configure and maintain live production environments, supporting e-government projects and financial sector clients.
Implement security best practices and apply vulnerability fixes, significantly reducing risk and enhancing system resilience.</li>
              <li>Deploy and administer MySQL, PostgreSQL, and MongoDB databases, ensuring data integrity, privacy, and performance.</li>
              <li>Configure and maintain database load balancing and high-availability clusters (ProxySQL, Percona XtraDB Cluster) for seamless failover and uninterrupted service.</li>
              <li>Optimize database and application performance through query tuning, indexing, and resource allocation.</li>
              <li>Automate backup solutions and streamline package installations, minimizing downtime and manual intervention.</li>
              <li>Develop and execute Docker images for complex application deployments, enhancing CI/CD pipelines with Jenkins and Ansible.</li>
              <li>Implement proactive monitoring solutions (Grafana, Prometheus, Netdata) for rapid detection and resolution of system issues.</li>
              <li>Provided 24/7 technical support for production environments, resolving complex issues efficiently.</li>
            </ul>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <h3>Intern System Engineer</h3>
            <h4>EPIC Lanka (Pvt) Ltd. | Colombo, Sri Lanka</h4>
            <p class="duration">April 2024 ‚Äì March 2025</p>
            <ul>
              <li>Assisted in network configuration and troubleshooting for client infrastructure.</li>
              <li>Supported software deployments and system updates for various business applications.</li>
              <li>Contributed to documentation of IT procedures and system configurations.</li>
            </ul>
          </div>
        </div>
        <!-- Add more experience items as needed -->
      </div>
    </div>
  </section>

  <!-- Skills Section - Your Technical Expertise -->
  <section id="skills" class="skills-section reveal">
    <div class="container">
      <h2 class="section-title">Skills</h2>
      <div class="skills-grid">
        <div class="skill-card">
          <div class="skill-icon"><i class="fas fa-server"></i></div>
          <h3>Operating Systems</h3>
          <p>Linux (RHEL, Ubuntu, CentOS), Windows Server</p>
          <div class="skill-bar-container">
            <div class="skill-bar" data-skill-level="95"></div>
          </div>
          <span class="skill-percentage">95%</span>
        </div>
        <div class="skill-card">
          <div class="skill-icon"><i class="fas fa-cogs"></i></div>
          <h3>DevOps Tools</h3>
          <p>Docker, Kubernetes, Jenkins, Ansible, Git</p>
          <div class="skill-bar-container">
            <div class="skill-bar" data-skill-level="90"></div>
          </div>
          <span class="skill-percentage">85%</span>
        </div>
        <div class="skill-card">
          <div class="skill-icon"><i class="fas fa-cloud"></i></div>
          <h3>Cloud Platforms</h3>
          <p>AWS, Microsoft Azure</p>
          <div class="skill-bar-container">
            <div class="skill-bar" data-skill-level="85"></div>
          </div>
          <span class="skill-percentage">80%</span>
        </div>
        <div class="skill-card">
          <div class="skill-icon"><i class="fas fa-database"></i></div>
          <h3>Databases</h3>
          <p>MySQL, PostgreSQL, Percona ExtraDB, Oracle 12c</p>
          <div class="skill-bar-container">
            <div class="skill-bar" data-skill-level="80"></div>
          </div>
          <span class="skill-percentage">85%</span>
        </div>
        <div class="skill-card">
          <div class="skill-icon"><i class="fas fa-code"></i></div>
          <h3>Scripting & Programming</h3>
          <p>Shell Scripting, Python, JavaScript</p>
          <div class="skill-bar-container">
            <div class="skill-bar" data-skill-level="75"></div>
          </div>
          <span class="skill-percentage">75%</span>
        </div>
        <div class="skill-card">
          <div class="skill-icon"><i class="fas fa-network-wired"></i></div>
          <h3>Networking</h3>
          <p>TCP/IP, DNS, VPN, Firewalls</p>
          <div class="skill-bar-container">
            <div class="skill-bar" data-skill-level="80"></div>
          </div>
          <span class="skill-percentage">85%</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section - What I Offer -->
  <section id="services" class="services-section reveal">
    <div class="container">
      <h2 class="section-title">What I Offer</h2>
      <div class="services-grid">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-cloud-upload-alt"></i></div>
          <h3>Cloud Infrastructure</h3>
          <p>Designing, deploying, and managing scalable and secure cloud solutions on AWS and Azure.</p>
        </div>
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-shipping-fast"></i></div>
          <h3>CI/CD Automation</h3>
          <p>Implementing automated pipelines for rapid and reliable software delivery using Jenkins and Ansible.</p>
        </div>
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-shield-alt"></i></div>
          <h3>System Security</h3>
          <p>Hardening Linux systems, implementing firewalls, and ensuring data integrity and access control.</p>
        </div>
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-database"></i></div>
          <h3>Database Management</h3>
          <p>Optimizing and maintaining high-performance MySQL, PostgreSQL, Percona ExtraDB cluster, and Oracle database systems.</p>
        </div>
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-cogs"></i></div>
          <h3>DevOps Consulting</h3>
          <p>Providing solutions for integrating DevOps practices into your workflow.</p>
        </div>
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-chart-line"></i></div>
          <h3>Monitoring & Logging</h3>
          <p>Setting up comprehensive monitoring solutions with Grafana, Prometheus, and logging tools.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- New Section: Interactive Showcase - Skill & Experience Alignment -->
  <section id="interactive-showcase" class="interactive-showcase-section reveal">
    <div class="container">
      <h2 class="section-title">Skill & Experience Alignment</h2>
      <div class="showcase-content">
        <p class="showcase-intro">My expertise isn't just a list of skills; it's how they've been applied to deliver real-world solutions. Here's a glimpse into how my skills align with my professional journey:</p>

        <div class="alignment-grid">
            <div class="alignment-card">
                <div class="alignment-icon"><i class="fas fa-chart-network"></i></div>
                <h3>Network Function Virtualization (NFV)</h3>
                <p>Applied <strong>C programming</strong> and network fundamentals to simulate VNFs and SDN, directly reflecting my **Software Defined Networking (SDN)** and **Network Engineering** skills from projects like "NFV Demonstration."</p>
                <span class="skill-tag">C Programming</span>
                <span class="skill-tag">SDN</span>
                <span class="skill-tag">Network Eng.</span>
            </div>
            <div class="alignment-card">
                <div class="alignment-icon"><i class="fas fa-cloud-download-alt"></i></div>
                <h3>Cloud Database Deployment</h3>
                <p>Leveraged **Azure Cloud** and **Oracle 12c** expertise to deploy and secure high-availability databases, as demonstrated in my "Oracle 12c Cloud-Based DB Setup" project, showcasing **Cloud Computing** and **Database Administration**.</p>
                <span class="skill-tag">Azure</span>
                <span class="skill-tag">Oracle DB</span>
                <span class="skill-tag">DB Admin</span>
            </div>
            <div class="alignment-card">
                <div class="alignment-icon"><i class="fas fa-cubes"></i></div>
                <h3>CI/CD Pipeline Automation</h3>
                <p>Utilized **Jenkins**, **Docker**, and **Ansible** to automate microservice deployments, a core part of my role at EPIC Lanka and highlighted in "DevOps CI/CD Pipeline Automation," demonstrating **DevOps** and **Automation** skills.</p>
                <span class="skill-tag">Jenkins</span>
                <span class="skill-tag">Docker</span>
                <span class="skill-tag">Ansible</span>
            </div>
             <div class="alignment-card">
                <div class="alignment-icon"><i class="fas fa-shield-alt"></i></div>
                <h3>High Availability Solutions</h3>
                <p>Engineered fault-tolerant systems using **ProxySQL** and **Percona XtraDB Cluster**, critical for mission-critical government systems, showcasing expertise in **Database Architecture** and **System Resilience** from projects like "High Availability with ProxySQL."</p>
                <span class="skill-tag">ProxySQL</span>
                <span class="skill-tag">MySQL</span>
                <span class="skill-tag">System Design</span>
            </div>
        </div>
        <p class="showcase-cta">Each professional experience has deepened my skills and allowed me to contribute effectively to diverse technical challenges.</p>
        <a href="#experience" class="btn-primary showcase-btn">View Full Experience</a>
      </div>
    </div>
  </section>

  <!-- CV Section - View Your Resume/CV -->
  <section id="cv" class="cv-section reveal">
    <div class="container">
      <h2 class="section-title">My CV</h2>
      <div class="cv-gallery">
        <div class="cv-item">
          <!-- Replace with your actual CV page 1 image (e.g., JPEG, PNG) -->
          <img src="/images/mycv2.png" alt="Tharindu Lakshan CV Page 1" class="cv-thumbnail" data-full-src="/images/mycv2.png">
          <p>CV Page 1</p>
        </div>
        <div class="cv-item">
          <!-- Replace with your actual CV page 2 image (e.g., JPEG, PNG) -->
          <img src="/images/mycv1.png" alt="Tharindu Lakshan CV Page 2" class="cv-thumbnail" data-full-src="/images/mycv1.png">
          <p>CV Page 2</p>
        </div>
        <!-- Add more CV images as needed -->
      </div>
      <div class="cv-download">
        <!-- Replace 'your-cv.pdf' with the actual path to your CV PDF file -->
        <a href="images/my_cv.pdf" download class="btn-primary">Download Full CV (PDF)</a>
      </div>
    </div>
  </section>

  <!-- CV Modal/Popup Structure -->
  <div id="cv-modal" class="cv-modal">
    <div class="cv-modal-content">
      <span class="cv-modal-close" aria-label="Close CV image">&times;</span>
      <img id="cv-modal-image" src="" alt="Full CV Image">
    </div>
  </div>

  <!-- Testimonials Section - What Others Say About You -->
  <section id="testimonials" class="testimonials-section reveal">
    <div class="container">
      <h2 class="section-title">Testimonials</h2>
      <div class="testimonials-grid">
        <div class="testimonial">
          <p>"Tharindu is a highly dedicated and skilled System Engineer. His problem-solving abilities and commitment to projects are truly commendable. A valuable asset to any team."</p>
          <div class="testimonial-author"></div>
        </div>
        <div class="testimonial">
          <p>"I had the pleasure of working with Tharindu on several critical deployments. His expertise in Linux and automation significantly streamlined our operations. Highly recommended!"</p>
          <div class="testimonial-author"></div>
        </div>
        <!-- Add more testimonials as needed -->
      </div>
    </div>
  </section>

  <!-- Gallery Section - Image Carousel -->
  <section id="gallery" class="gallery-section reveal">
    <div class="container">
      <h2 class="section-title">Gallery</h2>
      <div class="gallery-carousel-container">
        <div class="gallery-carousel-track">
          <!-- Replace with your actual gallery images and their labels -->
          <img src="/images/epic_day.jpeg" alt="Epic IST Team Get-together 2025" class="gallery-slide" data-label="Epic IST Team Get-together 2025">
          <img src="/images/epicwin1.jpeg" alt="Epic Cricket Fiesta 2 Final Match" class="gallery-slide" data-label="Epic Cricket Fiesta 2 Final Match">
          <img src="/images/epicwin2.jpeg" alt="Epic Cricket Fiesta 2 Champions" class="gallery-slide" data-label="Epic Cricket Fiesta 2 Champions">
          <img src="/images/epicwin3.jpeg" alt="Epic Cricket Fiesta 2 Phoenix Team" class="gallery-slide" data-label="Epic Cricket Fiesta 2 Phoenix Team">
          <img src="/images/epicwin4.jpeg" alt="Epic Cricket Fiesta 2 Winning Moment" class="gallery-slide" data-label="Epic Cricket Fiesta 2 Winning Moment">
          <img src="/images/epicwin5.jpeg" alt="Epic Cricket Fiesta 2" class="gallery-slide" data-label="Epic Cricket Fiesta 2">
          <img src="/images/sl_fi.jpeg" alt="End of The Chapter" class="gallery-slide" data-label="End of The Chapter">
          <img src="/images/sl_get.jpeg" alt="CSNE Get-together" class="gallery-slide" data-label="CSNE Get-together">
          <img src="/images/sl_leo.jpeg" alt="Leo club Meetup" class="gallery-slide" data-label="Leo club Meetup">
          <img src="/images/sl_ppm.jpeg" alt="PPM Final Presentation" class="gallery-slide" data-label="PPM Final Presentation">
          <img src="/images/sl_bmit.jpeg" alt="BMIT Presentation" class="gallery-slide" data-label="BMIT Presentation">
          <img src="/images/sl_win1.jpeg" alt="SLIIT Bash Champions" class="gallery-slide" data-label="SLIIT Bash Champions">
          <img src="/images/sl_win2.jpeg" alt="SLIIT Bash Champions" class="gallery-slide" data-label="SLIIT Bash Champions">
          <!-- Add more gallery images here -->
        </div>
        <button class="carousel-button prev-button" aria-label="Previous image"><i class="fas fa-chevron-left"></i></button>
        <button class="carousel-button next-button" aria-label="Next image"><i class="fas fa-chevron-right"></i></button>
      </div>
      <div class="gallery-label" id="gallery-label"></div> <!-- Label for current image -->
      <div class="gallery-dots"></div>
    </div>
  </section>

  <!-- Contact Section - How to Reach You -->
  <section id="contact" class="contact-section reveal">
    <div class="container">
      <h2 class="section-title">Contact Me</h2>
      <div class="contact-content">
        <div class="contact-info">
          <h3>Get in Touch</h3>
          <p><i class="fas fa-envelope"></i> <span id="contact-email">tlakshan300@gmail.com</span> <button class="copy-btn" data-copy-target="contact-email" aria-label="Copy email"><i class="fas fa-copy"></i></button></p>
          <p><i class="fas fa-phone"></i> <span id="contact-phone">+94 70 466 1700</span> <button class="copy-btn" data-copy-target="contact-phone" aria-label="Copy phone number"><i class="fas fa-copy"></i></button></p>
          <p><i class="fas fa-map-marker-alt"></i> Malabe, Sri Lanka</p>
          <div class="social-links">
            <a href="https://www.linkedin.com/in/tharindu-lakshan-mn/" target="_blank" aria-label="LinkedIn profile"><i class="fab fa-linkedin-in"></i></a>
            <a href="https://github.com/Tharindu-Lakshan-manathunga/" target="_blank" aria-label="GitHub profile"><i class="fab fa-github"></i></a>
            <a href="https://www.instagram.com/__tharindu__lakshan_/profilecard/?igsh=MW04bjFmZ3JvaWl6bA==" target="_blank" aria-label="Instagram profile"><i class="fab fa-instagram"></i></a>
            <a href="https://www.facebook.com/share/1HQKVdApr4/?mibextid=wwXIfr" target="_blank" aria-label="Facebook profile"><i class="fab fa-facebook-f"></i></a>
          </div>
        </div>
        <div class="contact-form">
          <h3>Send a Message</h3>
          <!-- Formspree integration: Replace with your actual Formspree endpoint -->
          <form id="contactForm" action="https://formspree.io/f/xpwrjobk" method="POST">
            <input type="text" name="name" placeholder="Your Name" required>
            <input type="email" name="email" placeholder="Your Email" required>
            <input type="text" name="subject" placeholder="Subject">
            <textarea name="message" rows="5" placeholder="Your Message" required></textarea>
            <button type="submit" class="btn-primary" id="submit-form-btn">Send Message</button>
            <div id="form-status-message" class="form-status"></div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-links-grid">
        <div class="footer-col">
          <h4>Explore</h4>
          <ul>
            <li><a href="#about">About Me</a></li>
            <li><a href="#projects">My Projects</a></li>
            <li><a href="#experience">Experience Timeline</a></li>
            <li><a href="#skills">My Skills</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Services</h4>
          <ul>
            <li><a href="#services">Cloud Infrastructure</a></li>
            <li><a href="#services">CI/CD Automation</a></li>
            <li><a href="#services">DevOps Consulting</a></li>
            <li><a href="#services">System Security</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Connect</h4>
          <ul>
            <li><a href="#contact">Contact Form</a></li>
            <li><a href="#contact">Email Me</a></li>
            <li><a href="#contact">Call Me</a></li>
            <li><a href="/images/my_cv.pdf">Download CV</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Follow Me</h4>
          <div class="social-links-footer">
            <a href="https://www.linkedin.com/in/tharindu-lakshan-mn/" target="_blank" aria-label="LinkedIn profile"><i class="fab fa-linkedin-in"></i></a>
            <a href="https://github.com/Tharindu-Lakshan-manathunga/" target="_blank" aria-label="GitHub profile"><i class="fab fa-github"></i></a>
            <a href="https://www.instagram.com/__tharindu__lakshan_/profilecard/?igsh=MW04bjFmZ3JvaWl6bA==" target="_blank" aria-label="Instagram profile"><i class="fab fa-instagram"></i></a>
            <a href="https://www.facebook.com/share/1HQKVdApr4/?mibextid=wwXIfr" target="_blank" aria-label="Facebook profile"><i class="fab fa-facebook-f"></i></a>
          </div>
        </div>
      </div>
      <p class="copyright-text">&copy; <span id="current-year"></span> Tharindu Lakshan. All Rights Reserved. <span id="user-id-display" class="analytics-info"></span></p>
      <p class="analytics-note"></p>
    </div>
  </footer>

  <!-- Login/Signup Modal -->
  <div id="auth-modal" class="auth-modal">
    <div class="auth-modal-content">
      <span class="auth-modal-close" aria-label="Close authentication modal">&times;</span>
      <div class="auth-form-container">
        <h2>Login / Signup</h2>
        <form id="login-form" class="auth-form">
          <input type="email" id="login-email" placeholder="Email" required>
          <input type="password" id="login-password" placeholder="Password" required>
          <button type="submit" class="btn-primary auth-submit-btn">Login</button>
          <p class="auth-toggle-text">Don't have an account? <a href="#" id="show-signup">Sign up</a></p>
          <div id="login-error-message" class="auth-error-message"></div>
        </form>

        <form id="signup-form" class="auth-form" style="display: none;">
          <input type="email" id="signup-email" placeholder="Email" required>
          <input type="password" id="signup-password" placeholder="Password (min 6 characters)" required>
          <input type="password" id="signup-confirm-password" placeholder="Confirm Password" required>
          <button type="submit" class="btn-primary auth-submit-btn">Sign Up</button>
          <p class="auth-toggle-text">Already have an account? <a href="#" id="show-login">Login</a></p>
          <div id="signup-error-message" class="auth-error-message"></div>
=======
  <!-- Projects Section -->
 <section id="projects" class="projects-section reveal">
  <div class="container">
    <h2 class="section-title">Projects</h2>

    <div class="cards-grid">

      <div class="card-item">
        <h3>NFV Demonstration with Socket Programming in C</h3>
        <p>Demonstrated Network Function Virtualization (NFV) using OpenStack and OpenDaylight. Built and simulated VNFs and SDN functions over Ubuntu Server using socket programming for dynamic network operations.</p>
        <p class="technologies"><strong>Technologies:</strong> Ubuntu Server, OpenStack (NFVOs), OpenDaylight (SDN, VNFs), C</p>
        <a href="https://example.com/nfv-project" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Samba Active Directory Deployment</h3>
        <p>Installed and configured Samba as an Active Directory Domain Controller on Linux to manage user authentication and policy-based access control within a mixed OS environment.</p>
        <p class="technologies"><strong>Technologies:</strong> VMware Workstation, Ubuntu, Windows 10 Pro</p>
        <a href="https://drive.google.com/drive/folders/1EkvWuNMR3bIntsO2FMrclljnz1oZw6mh?usp=sharing" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Oracle 12c Cloud-Based DB Setup</h3>
        <p>Deployed Oracle 12c Database on Microsoft Azure, configured PDBs, managed users and implemented backup/recovery and security mechanisms for high availability.</p>
        <p class="technologies"><strong>Technologies:</strong> Oracle 12c, Azure Cloud, SQL, Windows</p>
        <a href="https://drive.google.com/drive/folders/1NV7AFb1ROgR6RgcixP0rfgLkSSA0AOUG?usp=sharing" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Hospital Network Simulation</h3>
        <p>Designed and documented an end-to-end healthcare facility network layout including routing, switching, and security protocols using simulation tools.</p>
        <p class="technologies"><strong>Technologies:</strong> Cisco Packet Tracer, Networking Fundamentals</p>
        <a href="https://example.com/hospital-network-sim" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Monitoring of Microservices, Application Servers, and Databases</h3>
        <p>Implemented and visualized system and application metrics for enterprise microservices using Grafana, Prometheus, JMX Exporter, and Node Exporter.</p>
        <p class="technologies"><strong>Technologies:</strong> Grafana, Prometheus, Node Exporter, JMX Exporter</p>
        <a href="https://example.com/microservices-monitoring" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Multi-Tier Environment for DOXMATE</h3>
        <p>Engineered multi-tier production and UAT environments with NGINX reverse proxies, HAProxy for load balancing, and cluster-based database solutions for critical applications.</p>
        <p class="technologies"><strong>Technologies:</strong> RHEL 8, Java 8/11, Python, MySQL 5.7, Percona XtraDB Cluster, HAProxy, Apache Tomcat, NFS</p>
        <a href="https://example.com/multi-tier-env" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>DevOps CI/CD Pipeline Automation</h3>
        <p>Automated build, test, and deployment processes for microservices using Jenkins and Ansible, ensuring rapid delivery and rollback support with containerization tools.</p>
        <p class="technologies"><strong>Technologies:</strong> Jenkins, Ansible, Docker, Prometheus, Grafana, Git, CentOS 7</p>
        <a href="https://example.com/devops-cicd" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Mission-Critical Gov System Support</h3>
        <p>Deployed and maintained UAT and live environments for key government platforms such as the Valuation Department and Business Name Registration System.</p>
        <p class="technologies"><strong>Technologies:</strong> RHEL 8, GlassFish, NGINX, Apache, MySQL, Java, Docker, NFS</p>
        <a href="https://example.com/gov-system-support" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>High Availability with ProxySQL</h3>
        <p>Configured ProxySQL in front of a Percona XtraDB Cluster to ensure high-availability, fault tolerance, and transparent failover for production database workloads.</p>
        <p class="technologies"><strong>Technologies:</strong> ProxySQL, Percona XtraDB Cluster, MySQL, RHEL</p>
        <a href="https://example.com/proxysql-ha" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>CI/CD for Microservices</h3>
        <p>Designed and implemented CI/CD pipelines for 7 backend and 2 frontend services using Jenkins, Docker, Git, and Ansible.</p>
        <p class="technologies"><strong>Technologies:</strong> Jenkins, Docker, Git, RHEL 8</p>
        <a href="https://example.com/microservices-cicd" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Aqua Sync-Tech Smart Water Meter Billing and Monitoring with Mobile Application</h3>
        <p>Aqua Sync-Tech is a smart IoT-based water metering system that tracks real-time water usage, detects leaks, and supports remote control. It syncs with a mobile app for easy access by customers and Sri Lanka Water Board staff.</p>
        <p class="technologies"><strong>Technologies:</strong> NodeMcu, Arduino IDE, Arduino C</p>
        <a href="https://github.com/Tharindu-Lakshan-manathunga/Aqua-Sync-Tech-Smart-Water-Meter-for-Billing-and-Monitoring-with-Mobile-Application.-.git" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

      <div class="card-item">
        <h3>Final Year Research Project - AgrySense360</h3>
        <p>Predictive Analytics for Yield Optimization: To forecast crop yields, optimize planting schedules, and enhance productivity.</p>
        <a href="https://tharindu-lakshan-manathunga.github.io/Agrysense360/" target="_blank" rel="noopener noreferrer" class="view-details-btn">View Details</a>
      </div>

    </div>
  </div>
</section>


  <!-- Achievements Section -->
<section id="achievements" class="achievements-section reveal">
  <div class="container">
    <h2 class="section-title">Achievements & Certifications</h2>

    <div class="cards-grid">

      <div class="card-item">
        <h3>Introduction to DevOps</h3>
        <p>Issued by Coursera | Authorized by IBM</p>
        <a href="https://coursera.org/verify/K9CPKJBQG2AQ" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Introduction to Cloud Computing</h3>
        <p>Issued by Coursera | Authorized by IBM</p>
        <a href="https://coursera.org/verify/HSH46GNSHFR9" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Introduction to Linux Commands and Shell Scripting</h3>
        <p>Issued by Coursera | Authorized by IBM</p>
        <a href="https://www.coursera.org/account/accomplishments/verify/5642URKQTLZA" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>AWS Cloud Technical Essentials</h3>
        <p>Issued by Coursera | Authorized by AWS</p>
        <a href="https://coursera.org/verify/JZVQKXPCFJGQ" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Introduction to Containers</h3>
        <p>Docker, Kubernetes & OpenShift | Coursera & IBM</p>
        <a href="https://coursera.org/verify/5642URKQTLZA" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Oracle OCI Foundations Associate</h3>
        <p>Oracle Cloud Infrastructure 2023 Certified</p>
        <a href="https://catalog-education.oracle.com/pls/certview/sharebadge?id=D4C91D9E6812461D49302B660CEB4E1B7F59B350CD122C86C51536140724527E" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Introduction to Networks</h3>
        <p>Cisco Networking Academy</p>
        <a href="https://www.credly.com/badges/e5b634ba-9350-47a7-85ad-4c4f2b5e6a16/linked_in_profile" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>AZ-104: Azure Administrator</h3>
        <p>Issued by KodeKloud</p>
        <a href="https://learn.kodekloud.com/certificate/7e8274af-d166-4ab8-8430-3a9f5101670c" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Introduction to Cybersecurity</h3>
        <p>Issued by Cisco</p>
        <a href="https://www.credly.com/badges/7f6304c7-1e95-4885-9d69-ca6d8df1e113/public_url" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>CCNA: Switching, Routing, and Wireless Essentials</h3>
        <p>Issued by Cisco</p>
        <a href="https://www.credly.com/badges/b286545b-2bed-47e6-aa28-3e4d9a9ca0e5/linked_in_profile" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Oracle OCI Foundations Associate</h3>
        <p>Oracle Cloud Data Management 2023</p>
        <a href="https://catalog-education.oracle.com/pls/certview/sharebadge?id=5A42ACCA4EC6B8B2C24AB03A346407E3ABF1799EA3E594455A61945D7EE477A4" target="_blank" class="view-details-btn">View Credential</a>
      </div>

      <div class="card-item">
        <h3>Learn Ansible Basics</h3>
        <p>Beginners Course</p>
        <a href="https://learn.kodekloud.com/certificate/8773f796-bd21-4d93-8504-c12d80feeb4a" target="_blank" class="view-details-btn">View Credential</a>
      </div>

    </div>
  </div>
</section>


<!-- Experience Section Styles -->
<section id="experience" class="experience-section reveal">
  <div class="container">
    <h2 class="section-title">Experience</h2>

    <div class="experience-grid">
      <div class="experience-card">
        <div class="experience-header">
          <h3>System Support Engineer</h3>
          <h4>Epic Lanka Pvt Ltd <span>‚Ä¢ Apr 2024 ‚Äì Present</span></h4>
        </div>
        <p>Actively contributed to maintaining and enhancing production environments while working on mission-critical systems across various platforms.</p>
        <ul>
          <li>Managed and optimized Linux and Windows servers across production and UAT environments.</li>
          <li>Utilized Docker to containerize applications and streamline deployments.</li>
          <li>Maintained and backed up MySQL, PostgreSQL, and MongoDB databases.</li>
          <li>Automated system monitoring and health checks using custom scripts and open-source tools.</li>
          <li>Worked directly with developers and clients to resolve real-time issues efficiently.</li>
        </ul>
      </div>
      <div class="experience-card">
        <div class="experience-header">
          <h3>DevOps Intern</h3>
          <h4>TechWave Innovations <span>‚Ä¢ Jan 2024 ‚Äì Mar 2024</span></h4>
        </div>
        <p>Contributed to DevOps pipeline automation and server configuration for multiple software projects during an intensive internship.</p>
        <ul>
          <li>Built CI/CD pipelines using Jenkins and GitHub Actions for automated testing and deployment.</li>
          <li>Configured and deployed a VPS server environment for Java REST and Flutter Web apps.</li>
          <li>Assisted in implementing Docker-based workflows for microservices and databases.</li>
          <li>Worked in a team to deploy systems with tight deadlines and high security standards.</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Skills Section with Animated Bars -->
<section id="skills" class="skills-section reveal">
  <div class="container">
    <h2 class="section-title">Skills</h2>
    <div class="skills-grid">
      <div class="skill-item" data-skill-level="85%">
        <h3>‚òÅÔ∏è Cloud Platforms</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>AWS, Azure, OCI</p>
      </div>
      <div class="skill-item" data-skill-level="90%">
        <h3>üõ†Ô∏è DevOps Tools</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>Docker, Jenkins, Ansible, Git</p>
      </div>
      <div class="skill-item" data-skill-level="95%">
        <h3>üêß Operating Systems</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>Linux (Ubuntu, CentOS, RHEL), Windows Server</p>
      </div>
      <div class="skill-item" data-skill-level="80%">
        <h3>üìä Monitoring</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>Grafana, Prometheus, Netdata</p>
      </div>
      <div class="skill-item" data-skill-level="85%">
        <h3>üóÑÔ∏è Databases</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>MySQL, PostgreSQL, MongoDB, Oracle, Percona Extradb Cluster</p>
      </div>
      <div class="skill-item" data-skill-level="75%">
        <h3>üîí Security & Networking</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>Samba AD, ProxySQL, Load Balancing, HAProxy</p>
      </div>
      <div class="skill-item" data-skill-level="70%">
        <h3>üíª Programming & Scripting</h3>
        <div class="skill-bar"><div class="skill-level"></div></div>
        <p>Bash, Python, SQL, C</p>
      </div>
    </div>
  </div>
</section>

<section id="cv" class="cv-section reveal">
  <div class="container">
    <h2 class="section-title">Curriculum Vitae</h2>
    <div class="cv-pages">
      <!-- Ensure 'mycv2.png' and 'mycv1.png' are in the same directory -->
      <img src="mycv2.png" alt="Tharindu Lakshan CV Page 1" class="cv-page" onclick="openCvModal(0)" />
      <img src="mycv1.png" alt="Tharindu Lakshan CV Page 2" class="cv-page" onclick="openCvModal(1)" />
    </div>
    <div class="cv-controls">
      <!-- Ensure 'Tharindu Lakshan - CV.pdf' is in the same directory -->
      <button class="btn-primary" onclick="window.open('my_cv.pdf', '_blank')">Download CV</button>
    </div>
  </div>
</section>

<!-- CV Modal -->
<div id="cvModal" class="modal">
  <span class="modal-close" onclick="closeCvModal()">&times;</span>
  <span class="modal-nav prev" onclick="changeCvPage(-1)">&#10094;</span>
  <span class="modal-nav next" onclick="changeCvPage(1)">&#10095;</span>
  <div class="modal-content cv-content-zoom-pan">
    <img id="cvModalImage" src="" />
  </div>
  <div class="modal-controls">
    <button onclick="changeCvPage(-1)">Previous</button>
    <button onclick="changeCvPage(1)">Next</button>
  </div>
</div>

<!-- Testimonials Section -->
<section id="testimonials" class="testimonials-section reveal">
  <div class="container">
    <h2 class="section-title">What People Say</h2>

    <div class="testimonial-carousel">
      <!-- Testimonial 1 -->
      <div class="testimonial-slide">
        <p class="testimonial">‚ÄúTharindu is a highly dedicated and proactive System Support Engineer. His ability to quickly grasp complex systems and troubleshoot issues effectively was invaluable to our team. He's a true asset in production environments.‚Äù</p>
        <p class="testimonial-author">- [Manager/Supervisor Name], [Company Name]</p>
      </div>
      <!-- Testimonial 2 -->
      <div class="testimonial-slide">
        <p class="testimonial">‚ÄúWorking with Tharindu on the CI/CD pipeline project was a pleasure. His knowledge of Docker and Jenkins significantly sped up our development cycles. He's an excellent collaborator and problem-solver.‚Äù</p>
        <p class="testimonial-author">- [Colleague/Team Lead Name], [Company Name]</p>
      </div>
      <!-- Add more testimonials here -->
    </div>
    <div class="carousel-nav">
      <span class="dot active" onclick="currentSlide(1)"></span>
      <span class="dot" onclick="currentSlide(2)"></span>
      <!-- Add more dots for more testimonials -->
    </div>
  </div>
</section>

<!-- Gallery Section - Automatic Carousel with Image Names and Click-to-Open Modal -->
<section id="gallery" class="gallery-section reveal">
  <div class="container">
    <h2 class="section-title">Gallery</h2>
    <div class="gallery-carousel-container">
      <div class="gallery-carousel">
        <!-- IMPORTANT: REPLACE THESE SRC ATTRIBUTES WITH YOUR ACTUAL IMAGE PATHS -->
        <!-- Example: <div class="gallery-slide"><img src="images/my-gallery-pic-1.jpg" alt="Description 1" onclick="openGalleryModal(0)" /><div class="gallery-caption">Project Setup</div></div> -->
        <div class="gallery-slide">
          <img src="epic_day.jpeg" alt="Project Setup" onclick="openGalleryModal(0)" />
          <div class="gallery-caption">Project Setup</div>
        </div>
        <div class="gallery-slide">
          <img src="epicwin1.jpeg" alt="Team Collaboration" onclick="openGalleryModal(1)" />
          <div class="gallery-caption">Team Collaboration</div>
        </div>
        <div class="gallery-slide">
          <img src="epicwin2.jpeg" alt="Cloud Infrastructure" onclick="openGalleryModal(2)" />
          <div class="gallery-caption">Cloud Infrastructure</div>
        </div>
        <div class="gallery-slide">
          <img src="epicwin3.jpeg" alt="DevOps Pipeline" onclick="openGalleryModal(3)" />
          <div class="gallery-caption">DevOps Pipeline</div>
        </div>
        <div class="gallery-slide">
          <img src="epicwin4.jpeg" alt="System Monitoring" onclick="openGalleryModal(4)" />
          <div class="gallery-caption">System Monitoring</div>
        </div>
        <div class="gallery-slide">
          <img src="epicwin5.jpeg" alt="Networking Diagram" onclick="openGalleryModal(5)" />
          <div class="gallery-caption">Networking Diagram</div>
        </div>
      </div>
      <span class="gallery-nav prev" onclick="plusGallerySlides(-1)">&#10094;</span>
      <span class="gallery-nav next" onclick="plusGallerySlides(1)">&#10095;</span>
    </div>
    <div class="gallery-dots-container">
      <!-- Dots will be dynamically generated by JS -->
    </div>
  </div>
</section>

<!-- Gallery Image Modal (for click-to-view large image) -->
<div id="galleryImageModal" class="modal">
  <span class="modal-close" onclick="closeGalleryModal()">&times;</span>
  <div class="modal-content">
    <img id="galleryModalImage" src="" alt="Full size image" />
  </div>
</div>


<!-- Contact Section -->
<section id="contact" class="contact-section reveal">
  <div class="container">
    <h2 class="section-title">Get In Touch</h2>
    <p class="contact-intro">Have a question or want to collaborate? Feel free to reach out!</p>

    <div class="contact-content">
      <div class="contact-info">
        <h3>Contact Details</h3>
        <p><i class="fas fa-envelope"></i> Email: <a href="mailto:tharindulakshan.dev@gmail.com">tharindulakshan.dev@gmail.com</a></p>
        <p><i class="fas fa-phone"></i> Phone: +94 71 889 0601</p>
        <p><i class="fas fa-map-marker-alt"></i> Location: Galle, Sri Lanka</p>
        
        <div class="social-links">
          <a href="https://github.com/Tharindu-Lakshan-manathunga" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><i class="fab fa-github"></i></a>
          <a href="https://linkedin.com/in/tharindulakshanmanathunga" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
          <a href="https://stackoverflow.com/users/your-stackoverflow-id" target="_blank" rel="noopener noreferrer" aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a>
          <a href="https://medium.com/@tharindulakshan.dev" target="_blank" rel="noopener noreferrer" aria-label="Medium"><i class="fab fa-medium"></i></a>
        </div>
      </div>

      <div class="contact-form-container">
        <h3>Send a Message</h3>
        <form id="contactForm" action="https://formspree.io/f/xpwrjobk" method="POST"> <!-- IMPORTANT: REPLACE THIS WITH YOUR ACTUAL FORMSPREE ID -->
          <div class="form-group">
            <input type="text" id="name" name="name" placeholder="Your Name" required />
          </div>
          <div class="form-group">
            <input type="email" id="email" name="email" placeholder="Your Email" required />
          </div>
          <div class="form-group">
            <input type="text" id="subject" name="subject" placeholder="Subject" required />
          </div>
          <div class="form-group">
            <textarea id="message" name="message" rows="5" placeholder="Your Message" required></textarea>
          </div>
          <button type="submit" class="btn-primary">Send Message</button>
          <div id="form-status" class="form-status"></div>
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
        </form>
      </div>
    </div>
  </div>
<<<<<<< HEAD


  <!-- Chatbot Modal -->
  <div class="chatbot-modal">
    <div class="chatbot-header">
      Tharindu Bot
      <span class="modal-close" aria-label="Close chatbot">&times;</span>
    </div>
    <div class="chatbot-body">
      <div class="chat-message bot-message">
        Hi there! I'm Tharindu's automated assistant. How can I help you today?
      </div>
    </div>
    <div class="chatbot-suggestions">
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Tell me about your experience')">Experience</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('What are your skills?')">Skills</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Show me your projects')">Projects</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('How can I contact Tharindu?')">Contact</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('What services do you offer?')">Services</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Tell me about your education')">Education</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Can I get a copy of your CV?')">CV</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Where can I see testimonials?')">Testimonials</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Show me your achievements')">Achievements</button>
      <button class="suggestion-btn" onclick="sendSuggestedMessage('Tell me about your final year project')">Final Year Project</button>
    </div>
    <div class="chatbot-footer">
      <button id="clear-chat-btn" class="clear-chat-btn">Clear Chat</button>
      <input type="text" id="chatbot-input" placeholder="Type your message...">
      <button id="chatbot-send-btn">Send</button>
    </div>
  </div>

  <!-- Chatbot Toggle Button -->
  <button class="chatbot-toggle-btn" aria-label="Open chatbot">
    <i class="fas fa-comment-dots"></i>
  </button>

  <!-- WhatsApp Floating Button -->
  <a href="https://wa.me/94704661700" target="_blank" class="whatsapp-float-btn" aria-label="Connect on WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Scroll-to-top button -->
  <button id="scroll-to-top-btn" class="scroll-to-top-btn" aria-label="Scroll to top">
    <i class="fas fa-arrow-up"></i>
  </button>

</body>
</html>
=======
</section>

<!-- Footer Section -->
<footer class="footer-section">
  <div class="container">
    <p>&copy; <span id="current-year"></span> Tharindu Lakshan. All rights reserved.</p>
    <p>Designed by Tharindu</p>
    <p id="user-id-display" style="font-size: 0.8em; opacity: 0.7; margin-top: 5px;">User ID: Loading...</p>
  </div>
</footer>

<!-- Scroll-to-top Button -->
<button id="scroll-to-top-btn" class="scroll-to-top-btn" aria-label="Scroll to top">
  <i class="fas fa-arrow-up"></i>
</button>

<!-- Chatbot Button -->
<button id="chatbot-toggle-btn" class="chatbot-toggle-btn" aria-label="Open Chatbot">
  <i class="fas fa-comments"></i>
</button>

<!-- Chatbot Modal -->
<div id="chatbot-modal" class="chatbot-modal">
  <div class="chatbot-header">
    <h3>Tharindu's AI Assistant</h3>
    <button class="chatbot-close-btn" aria-label="Close Chatbot">&times;</button>
  </div>
  <div class="chatbot-body" id="chatbot-body">
    <!-- Chatbot conversation will appear here -->
    <div class="chat-message bot">Hello! I'm Tharindu's AI Assistant. How can I help you today?</div>
    <div class="chat-message bot">You can ask me about his skills, experience, projects, or how to contact him.</div>
    <div class="suggested-questions">
        <button class="suggestion-btn" onclick="sendSuggestedMessage('What are Tharindu\'s key skills?')">Skills</button>
        <button class="suggestion-btn" onclick="sendSuggestedMessage('Tell me about Tharindu\'s experience.')">Experience</button>
        <button class="suggestion-btn" onclick="sendSuggestedMessage('What projects has Tharindu worked on?')">Projects</button>
        <button class="suggestion-btn" onclick="sendSuggestedMessage('How can I contact Tharindu?')">Contact</button>
    </div>
  </div>
  <div class="chatbot-input-area">
    <input type="text" id="chatbot-input" placeholder="Type your message..." />
    <button id="chatbot-send-btn" class="chat-send-btn" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
  </div>
</div>


<script>
    // Preloader functionality
    window.addEventListener('load', () => {
      const preloader = document.getElementById('preloader');
      if (preloader) {
        preloader.classList.add('fade-out');
        setTimeout(() => {
          preloader.style.display = 'none';
          document.body.style.overflow = ''; // Re-enable scrolling
        }, 600); // Duration matches CSS transition
      }
    });

    // Dynamic copyright year
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // Typed.js (for hero section typing effect)
    document.addEventListener('DOMContentLoaded', function() {
      if (document.getElementById('typed-text')) {
        new Typed('#typed-text', {
          strings: [
            "A System Support Engineer",
            "A DevOps Enthusiast",
            "A Cloud Practitioner",
            "A CSNE Undergraduate"
          ],
          typeSpeed: 70,
          backSpeed: 30,
          loop: true,
          showCursor: true,
          cursorChar: '|',
        });
      }
    });

    // Dark/Light Mode Toggle
    const themeToggleBtn = document.getElementById('theme-toggle-btn');
    const body = document.body;

    const currentTheme = localStorage.getItem('theme');
    if (currentTheme) {
      body.setAttribute('data-theme', currentTheme);
      updateThemeIcon(currentTheme);
    } else {
        // Default to dark if no preference is saved
        body.setAttribute('data-theme', 'dark');
        updateThemeIcon('dark');
    }

    function updateThemeIcon(theme) {
        const sunIcon = themeToggleBtn.querySelector('.fa-sun');
        const moonIcon = themeToggleBtn.querySelector('.fa-moon');
        if (theme === 'dark') {
            sunIcon.style.display = 'none';
            moonIcon.style.display = 'inline-block';
        } else {
            sunIcon.style.display = 'inline-block';
            moonIcon.style.display = 'none';
        }
    }

    themeToggleBtn.addEventListener('click', () => {
      let theme = body.getAttribute('data-theme');
      if (theme === 'dark') {
        body.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
        updateThemeIcon('light');
      } else {
        body.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
        updateThemeIcon('dark');
      }
    });

    // Canvas Background Animation for Hero Section
    const canvas = document.getElementById('hero-background-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const maxParticles = 100;
    const minDistance = 100; // Distance to draw lines
    const maxLineOpacity = 0.2; // Max opacity for lines
    const particleSpeed = 0.3;

    // Adjust canvas size to fit window
    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // Reinitialize particles on resize to prevent weird stretching
        initParticles();
    }

    // Particle constructor
    function Particle(x, y) {
        this.x = x || Math.random() * canvas.width;
        this.y = y || Math.random() * canvas.height;
        this.vx = (Math.random() - 0.5) * particleSpeed * 2; // -particleSpeed to particleSpeed
        this.vy = (Math.random() - 0.5) * particleSpeed * 2;
        this.radius = Math.random() * 1.5 + 0.5; // Small particle size
        this.color = 'var(--color-accent-primary)'; // Use CSS variable
        this.glowColor = 'var(--color-accent-secondary)'; // Cyan for glow
    }

    // Draw particle
    Particle.prototype.draw = function() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        
        // Add subtle glow
        ctx.shadowBlur = this.radius * 5; // Adjust glow intensity
        ctx.shadowColor = this.glowColor;
        
        ctx.fill();
        ctx.shadowBlur = 0; // Reset shadow for next draws
    };

    // Update particle position
    Particle.prototype.update = function() {
        this.x += this.vx;
        this.y += this.vy;

        // Bounce off edges
        if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
        if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
    };

    function initParticles() {
        particles = []; // Clear existing particles
        for (let i = 0; i < maxParticles; i++) {
            particles.push(new Particle());
        }
    }

    function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas

        // Store current theme colors for drawing
        const theme = document.body.getAttribute('data-theme');
        const accentPrimary = getComputedStyle(document.documentElement).getPropertyValue('--color-accent-primary');
        const accentSecondary = getComputedStyle(document.documentElement).getPropertyValue('--color-accent-secondary');
        const tertiaryDark = getComputedStyle(document.documentElement).getPropertyValue('--color-tertiary-dark');


        // Update and draw particles
        for (let i = 0; i < particles.length; i++) {
            particles[i].update();
            particles[i].draw();
            particles[i].color = accentPrimary; // Update color dynamically
            particles[i].glowColor = accentSecondary;
        }

        // Draw lines between close particles
        for (let i = 0; i < particles.length; i++) {
            for (let j = i; j < particles.length; j++) {
                const p1 = particles[i];
                const p2 = particles[j];
                const distance = Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));

                if (distance < minDistance) {
                    const opacity = maxLineOpacity * (1 - distance / minDistance);
                    ctx.beginPath();
                    ctx.moveTo(p1.x, p1.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.strokeStyle = `rgba(65, 105, 225, ${opacity})`; // Royal Blue lines
                    ctx.lineWidth = 1;
                    ctx.shadowBlur = 5;
                    ctx.shadowColor = accentSecondary; // Cyan glow for lines
                    ctx.stroke();
                    ctx.shadowBlur = 0;
                }
            }
        }
        requestAnimationFrame(animateParticles);
    }

    // Initialize and start animation
    window.addEventListener('load', () => {
        resizeCanvas();
        animateParticles();
    });
    window.addEventListener('resize', resizeCanvas);


    // Testimonials Carousel
    let testimonialSlideIndex = 1;
    const testimonialSlides = document.getElementsByClassName("testimonial-slide");
    const testimonialDots = document.querySelectorAll("#testimonials .dot"); // More specific selector

    function showTestimonialSlides(n) {
      if (testimonialSlides.length === 0) return;
      let i;
      if (n > testimonialSlides.length) { testimonialSlideIndex = 1 }
      if (n < 1) { testimonialSlideIndex = testimonialSlides.length }
      for (i = 0; i < testimonialSlides.length; i++) {
        testimonialSlides[i].style.display = "none";
      }
      for (i = 0; i < testimonialDots.length; i++) {
        testimonialDots[i].classList.remove("active");
      }
      testimonialSlides[testimonialSlideIndex - 1].style.display = "block";
      testimonialDots[testimonialSlideIndex - 1].classList.add("active");
    }

    function plusTestimonialSlides(n) {
      showTestimonialSlides(testimonialSlideIndex += n);
    }

    function currentSlide(n) { // Kept original function name for simplicity
      showTestimonialSlides(testimonialSlideIndex = n);
    }

    // Auto-advance testimonial carousel
    if (testimonialSlides.length > 0) {
        setInterval(() => {
            plusTestimonialSlides(1);
        }, 5000); // Change slide every 5 seconds
        showTestimonialSlides(testimonialSlideIndex); // Initial call
    }


    // Gallery Carousel (Automatic and Manual)
    let gallerySlideIndex = 0; // Start with index 0
    const gallerySlides = document.querySelectorAll(".gallery-carousel .gallery-slide");
    const galleryCarouselElement = document.querySelector(".gallery-carousel");
    const galleryDotsContainer = document.querySelector(".gallery-dots-container");
    let galleryInterval;

    function createGalleryDots() {
      galleryDotsContainer.innerHTML = ''; // Clear existing dots
      for (let i = 0; i < gallerySlides.length; i++) {
        const dot = document.createElement('span');
        dot.classList.add('gallery-dot');
        if (i === 0) dot.classList.add('active');
        dot.onclick = () => currentGallerySlide(i);
        galleryDotsContainer.appendChild(dot);
      }
    }

    function showGallerySlides(n) {
        if (gallerySlides.length === 0) return;
        
        gallerySlideIndex = (n + gallerySlides.length) % gallerySlides.length; // Ensure index wraps around

        // Apply transform to the carousel container
        galleryCarouselElement.style.transform = `translateX(-${gallerySlideIndex * 100}%)`;

        // Only toggle display for the active slide (and hide others) for better performance/transition
        // The display property should be handled by CSS for flex/grid, but as fallback for cross-browser
        gallerySlides.forEach((slide, index) => {
            if (index === gallerySlideIndex) {
                slide.style.display = "block"; // Show current slide
            } else {
                slide.style.display = "none"; // Hide other slides
            }
        });

        document.querySelectorAll(".gallery-dot").forEach((dot, index) => {
            dot.classList.remove("active"); // Deactivate all dots
        });

        document.querySelectorAll(".gallery-dot")[gallerySlideIndex].classList.add("active"); // Activate current dot
    }

    function plusGallerySlides(n) {
        showGallerySlides(gallerySlideIndex + n);
        resetGalleryInterval();
    }

    function currentGallerySlide(n) {
        showGallerySlides(n);
        resetGalleryInterval();
    }

    function startGalleryInterval() {
        galleryInterval = setInterval(() => {
            plusGallerySlides(1);
        }, 4000); // Change slide every 4 seconds
    }

    function resetGalleryInterval() {
        clearInterval(galleryInterval);
        startGalleryInterval();
    }

    // Initialize gallery on DOMContentLoaded
    document.addEventListener('DOMContentLoaded', () => {
        if (gallerySlides.length > 0) {
            createGalleryDots();
            showGallerySlides(0); // Show the first slide
            startGalleryInterval(); // Start auto-cycling
        }
    });

    // Gallery Image Modal (for click-to-view large image)
    const galleryImageModal = document.getElementById('galleryImageModal');
    const galleryModalImage = document.getElementById('galleryModalImage');

    function openGalleryModal(index) {
      if (gallerySlides.length > 0 && gallerySlides[index]) {
        galleryModalImage.src = gallerySlides[index].querySelector('img').src;
        galleryImageModal.style.display = 'block';
        document.body.style.overflow = 'hidden'; // Prevent background scroll
      }
    }

    function closeGalleryModal() {
      galleryImageModal.style.display = 'none';
      document.body.style.overflow = ''; // Re-enable background scroll
    }


    // CV Modal (Zoom and Pan)
    const cvModal = document.getElementById('cvModal');
    const cvModalImage = document.getElementById('cvModalImage');
    const cvPages = Array.from(document.querySelectorAll('.cv-section .cv-page')); // Get all CV images
    let currentCvPageIndex = 0;
    let scale = 1;
    let panning = false;
    let pointX = 0;
    let pointY = 0;
    let startX = 0;
    let startY = 0;

    // Reset zoom/pan when closing or changing page
    function resetCvTransform() {
      scale = 1;
      pointX = 0;
      pointY = 0;
      cvModalImage.style.transform = `scale(${scale}) translate(${pointX}px, ${pointY}px)`;
      cvModalImage.style.transformOrigin = `center center`; // Reset origin to center
      cvModalImage.style.cursor = 'zoom-in';
    }

    function openCvModal(index) {
      currentCvPageIndex = index;
      cvModalImage.src = cvPages[currentCvPageIndex].src;
      cvModal.style.display = 'block';
      document.body.style.overflow = 'hidden'; // Prevent background scroll
      
      // Ensure image loads before attempting reset and allowing interaction
      cvModalImage.onload = () => {
        resetCvTransform();
      };
      // If image is already cached, onload might not fire, so reset immediately too
      if (cvModalImage.complete) {
          resetCvTransform();
      }
    }

    function closeCvModal() {
      cvModal.style.display = 'none';
      document.body.style.overflow = ''; // Re-enable background scroll
      resetCvTransform();
    }

    function changeCvPage(n) {
      currentCvPageIndex += n;
      if (currentCvPageIndex >= cvPages.length) {
        currentCvPageIndex = 0;
      } else if (currentCvPageIndex < 0) {
        currentCvPageIndex = cvPages.length - 1;
      }
      cvModalImage.src = cvPages[currentCvPageIndex].src;
      // Reset transform after changing image source
      cvModalImage.onload = () => {
        resetCvTransform();
      };
      if (cvModalImage.complete) {
          resetCvTransform();
      }
    }

    // Zoom functionality (click to toggle zoom)
    cvModalImage.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent default click behavior
        if (scale === 1) { // Zoom in
            scale = 2; // Zoom to 2x
            const rect = cvModalImage.getBoundingClientRect();
            // Calculate click position relative to image
            const x = (e.clientX - rect.left) / rect.width;
            const y = (e.clientY - rect.top) / rect.height;

            cvModalImage.style.transformOrigin = `${x * 100}% ${y * 100}%`;
            cvModalImage.style.transform = `scale(${scale})`;
            cvModalImage.style.cursor = 'grab';
        } else { // Zoom out
            resetCvTransform();
            cvModalImage.style.cursor = 'zoom-in';
        }
    });

    // Pan functionality (drag when zoomed)
    cvModalImage.addEventListener('mousedown', (e) => {
      if (scale > 1) {
        e.preventDefault();
        panning = true;
        startX = e.clientX - pointX;
        startY = e.clientY - pointY;
        cvModalImage.style.cursor = 'grabbing';
      }
    });

    cvModalImage.addEventListener('mouseup', () => {
      panning = false;
      if (scale > 1) {
        cvModalImage.style.cursor = 'grab';
      } else {
        cvModalImage.style.cursor = 'zoom-in';
      }
    });

    cvModalImage.addEventListener('mousemove', (e) => {
      if (!panning || scale === 1) return;
      e.preventDefault();
      pointX = e.clientX - startX;
      pointY = e.clientY - startY;

      // Apply bounds to panning (more robust calculation)
      const maxTranslateX = (cvModalImage.offsetWidth * scale - cvModalImage.offsetWidth) / (2 * scale);
      const maxTranslateY = (cvModalImage.offsetHeight * scale - cvModalImage.offsetHeight) / (2 * scale);

      pointX = Math.max(-maxTranslateX, Math.min(maxTranslateX, pointX));
      pointY = Math.max(-maxTranslateY, Math.min(maxTranslateY, pointY));

      cvModalImage.style.transform = `scale(${scale}) translate(${pointX}px, ${pointY}px)`;
    });

    // Handle mouse wheel for zooming
    cvModalImage.addEventListener('wheel', (e) => {
      e.preventDefault();
      const zoomAmount = 0.1;
      const oldScale = scale;

      if (e.deltaY < 0) { // Zoom in
        scale += zoomAmount;
      } else { // Zoom out
        scale -= zoomAmount;
      }

      scale = Math.max(1, Math.min(3, scale)); // Limit zoom from 1x to 3x

      if (scale !== oldScale) {
        const rect = cvModalImage.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width;
        const y = (e.clientY - rect.top) / rect.height;

        cvModalImage.style.transformOrigin = `${x * 100}% ${y * 100}%`;
        cvModalImage.style.transform = `scale(${scale})`;
      }

      cvModalImage.style.cursor = scale > 1 ? 'grab' : 'zoom-in';
      panning = false; // Stop panning on zoom
    });


    // Disable context menu on image to avoid interference with clicks
    cvModalImage.addEventListener('contextmenu', (e) => e.preventDefault());


    // Smooth Scrolling for Navigation Links & Active State
    document.querySelectorAll('a.nav-link[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        document.querySelector(targetId).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });

    // Navbar scroll effect and active link highlighting
    window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        // Navbar scrolled class
        if (window.scrollY > 50) { // When scrolled more than 50px
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }

        // Highlight active nav link based on scroll position
        const sections = document.querySelectorAll('section');
        sections.forEach(section => {
            // Adjust top offset to account for fixed navbar height, plus a little buffer
            const top = section.offsetTop - navbar.offsetHeight - 20; 
            const height = section.clientHeight;
            const id = section.getAttribute('id');
            const navLink = document.querySelector(`.nav-link[href="#${id}"]`);

            if (navLink && window.scrollY >= top && window.scrollY < top + height) {
                // Remove 'active' from all links first
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                // Add 'active' to the current section's link
                navLink.classList.add('active');
            }
        });
    });


    // Intersection Observer for Scroll Reveal Animations
    const revealElements = document.querySelectorAll('.reveal');

    const observerOptions = {
      root: null, // relative to the viewport
      rootMargin: '0px',
      threshold: 0.1 // 10% of the element must be visible
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('active');
          
          // For cards grid (projects, achievements) and experience grid and skill items
          const items = entry.target.querySelectorAll('.card-item, .experience-card, .skill-item');
          items.forEach((item, index) => {
            // Only add active if not already active to prevent re-triggering
            if (!item.classList.contains('active')) {
              setTimeout(() => {
                item.classList.add('active');
                // For skill bars, trigger width animation after active class
                if (item.classList.contains('skill-item')) {
                    const skillLevelDiv = item.querySelector('.skill-level');
                    if (skillLevelDiv && item.dataset.skillLevel) {
                        skillLevelDiv.style.width = item.dataset.skillLevel;
                    }
                }
              }, index * 100); // Stagger by 100ms
            }
          });
          observer.unobserve(entry.target); // Stop observing once revealed
        }
      });
    }, observerOptions);

    revealElements.forEach(element => {
      observer.observe(element);
    });

    // Contact Form Submission
    const contactForm = document.getElementById('contactForm');
    const formStatus = document.getElementById('form-status');

    if (contactForm) { // Ensure form exists before attaching listener
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            formStatus.textContent = 'Sending message...';
            formStatus.className = 'form-status sending';

            const formData = new FormData(contactForm);
            try {
                // IMPORTANT: Replace 'https://formspree.io/f/your-formspree-id' with your actual Formspree endpoint URL
                const response = await fetch(contactForm.action, { 
                    method: contactForm.method,
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    formStatus.textContent = 'Message sent successfully! Thank you.';
                    formStatus.className = 'form-status success';
                    contactForm.reset();
                } else {
                    const data = await response.json();
                    if (data && data.errors) {
                        formStatus.textContent = data.errors.map(error => error.message).join(', ');
                    } else {
                        formStatus.textContent = 'Oops! There was a problem sending your message. Please try again.';
                    }
                    formStatus.className = 'form-status error';
                    console.error('Form submission error response:', data);
                }
            } catch (error) {
                formStatus.textContent = 'Network error. Please check your connection and try again.';
                formStatus.className = 'form-status error';
                console.error('Form submission network error:', error);
            }
        });
    }

    // Chatbot Modal Functionality (with Gemini API Integration)
    const chatbotToggleBtn = document.getElementById('chatbot-toggle-btn');
    const chatbotModal = document.getElementById('chatbot-modal');
    const chatbotCloseBtn = document.querySelector('.chatbot-close-btn');
    const chatbotInput = document.getElementById('chatbot-input');
    const chatbotSendBtn = document.getElementById('chatbot-send-btn');
    const chatbotBody = document.getElementById('chatbot-body');

    // Tharindu's Portfolio Knowledge Base (for the AI, as plain text for easier LLM consumption)
    const tharinduKnowledgeText = `
    Tharindu Lakshan is a System Support Engineer and a Computer Systems & Network Engineering Undergraduate from SLIIT.
    His key professional experience includes:
    - System Support Engineer at Epic Lanka Pvt Ltd (Apr 2024 ‚Äì Present): Contributes to maintaining and enhancing production environments, working on mission-critical systems, managing Linux/Windows servers, containerizing applications with Docker, maintaining MySQL/PostgreSQL/MongoDB databases, automating monitoring, and resolving real-time issues.
    - DevOps Intern at TechWave Innovations (Jan 2024 ‚Äì Mar 2024): Contributed to DevOps pipeline automation, server configuration, built CI/CD pipelines (Jenkins, GitHub Actions), deployed VPS server for Java REST/Flutter Web apps, assisted Docker workflows.

    Tharindu's key skills include:
    - Cloud Platforms: AWS, Azure, OCI
    - DevOps Tools: Docker, Jenkins, Ansible, Git
    - Operating Systems: Linux (Ubuntu, CentOS, RHEL), Windows Server
    - Monitoring: Grafana, Prometheus, Netdata
    - Databases: MySQL, PostgreSQL, MongoDB, Oracle, Percona Extradb Cluster
    - Security & Networking: Samba AD, ProxySQL, Load Balancing, HAProxy
    - Programming & Scripting: Bash, Python, SQL, C

    Tharindu's notable projects include:
    - NFV Demonstration with Socket Programming in C
    - Samba Active Directory Deployment
    - Oracle 12c Cloud-Based DB Setup
    - Monitoring of Microservices, Application Servers, and Databases
    - Multi-Tier Environment for DOXMATE
    - DevOps CI/CD Pipeline Automation
    - Mission-Critical Gov System Support
    - High Availability with ProxySQL
    - CI/CD for Microservices
    - Aqua Sync-Tech Smart Water Meter Billing and Monitoring with Mobile Application
    - Final Year Research Project - AgrySense360

    You can contact Tharindu Lakshan via:
    - Email: tharindulakshan.dev@gmail.com
    - Phone: +94 71 889 0601
    - Location: Galle, Sri Lanka
    - GitHub: https://github.com/Tharindu-Lakshan-manathunga
    - LinkedIn: https://linkedin.com/in/tharindulakshanmanathunga
    - Stack Overflow: [Please replace with actual Stack Overflow ID if available]
    - Medium: https://medium.com/@tharindulakshan.dev

    If a user asks about anything not covered here, state that the information is not available in Tharindu's profile. Prioritize direct answers based on this information. Respond in a helpful and professional tone.
    `;

    // Chat history for Gemini API (initialize with a system instruction)
    let chatHistory = [
      { role: "user", parts: [{ text: `You are Tharindu Lakshan's AI Assistant. Provide information about Tharindu Lakshan based solely on the following knowledge base. Be concise and professional. Do not invent information. If you cannot answer a question based on this knowledge, politely state that the information is not available in Tharindu's profile. Prioritize direct answers based on this information. Respond in a helpful and professional tone.
      ${tharinduKnowledgeText}` }] },
      { role: "model", parts: [{ text: "Hello! I'm Tharindu's AI Assistant. How can I help you today? You can ask me about his skills, experience, projects, or how to contact him." }] }
    ];

    if (chatbotToggleBtn && chatbotModal && chatbotCloseBtn && chatbotInput && chatbotSendBtn && chatbotBody) {
      chatbotToggleBtn.addEventListener('click', () => {
        chatbotModal.classList.toggle('open');
        chatbotToggleBtn.classList.toggle('hidden');
        if (chatbotModal.classList.contains('open')) {
            chatbotInput.focus();
        }
      });

      chatbotCloseBtn.addEventListener('click', () => {
        chatbotModal.classList.remove('open');
        chatbotToggleBtn.classList.remove('hidden');
      });

      const appendMessage = (sender, text) => {
          const msgDiv = document.createElement('div');
          msgDiv.classList.add('chat-message', sender);
          msgDiv.textContent = text;
          chatbotBody.appendChild(msgDiv);
          chatbotBody.scrollTop = chatbotBody.scrollHeight; // Scroll to bottom
      };

      const sendMessage = async (messageText) => {
        const userMessage = messageText || chatbotInput.value.trim();
        if (!userMessage) return;

        appendMessage('user', userMessage);
        chatHistory.push({ role: "user", parts: [{ text: userMessage }] });

        chatbotInput.value = ''; // Clear input
        chatbotSendBtn.disabled = true; // Disable send button
        chatbotInput.placeholder = 'Thinking...';

        // Add loading indicator
        const loadingDiv = document.createElement('div');
        loadingDiv.classList.add('chat-message', 'bot', 'loading-indicator');
        loadingDiv.textContent = 'Typing...';
        chatbotBody.appendChild(loadingDiv);
        chatbotBody.scrollTop = chatbotBody.scrollHeight;

        try {
            const payload = { 
                contents: chatHistory,
                generationConfig: {
                    temperature: 0.7, // Adjust creativity
                    topK: 40,
                    topP: 0.95,
                    maxOutputTokens: 200 // Limit response length
                }
            };
            // IMPORTANT: For Canvas environment, leave apiKey as an empty string.
            // Canvas will automatically provide the API key at runtime.
            // DO NOT insert your actual API key here unless explicitly instructed for a different environment.
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            console.log('Chatbot: Sending payload to Gemini API:', JSON.stringify(payload)); // Debugging log

            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                const errorText = await response.text(); // Get raw text for more info
                console.error('Chatbot: Gemini API HTTP Error:', response.status, response.statusText, 'Response Body:', errorText);
                // Attempt to parse JSON if it looks like JSON
                try {
                    const errorData = JSON.parse(errorText);
                    console.error('Chatbot: Gemini API detailed error data:', errorData);
                    throw new Error(`API error: ${response.status} ${response.statusText} - ${errorData.error ? errorData.error.message : 'Unknown API error'}`);
                } catch (jsonParseError) {
                    throw new Error(`API error: ${response.status} ${response.statusText} - ${errorText}`);
                }
            }

            const result = await response.json();
            console.log('Chatbot: Received successful response from Gemini API:', result); // Debugging log
            
            // Remove loading indicator
            if (chatbotBody.contains(loadingDiv)) {
                chatbotBody.removeChild(loadingDiv);
            }

            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const botResponse = result.candidates[0].content.parts[0].text;
                
                appendMessage('bot', botResponse);
                chatHistory.push({ role: "model", parts: [{ text: botResponse }] });
            } else {
                appendMessage('bot', "I apologize, but I couldn't generate a response for that. Please try rephrasing your question or ask about Tharindu's skills, experience, or projects.");
                console.warn('Chatbot: Gemini API returned an unexpected response structure or empty content:', result);
            }
        } catch (error) {
            console.error('Chatbot: Error calling Gemini API:', error);
            // Remove loading indicator if still present
            if (chatbotBody.contains(loadingDiv)) {
                chatbotBody.removeChild(loadingDiv);
            }
            appendMessage('bot', 'A network error or API issue occurred. Please check your connection and try again.');
        } finally {
            chatbotSendBtn.disabled = false; // Re-enable send button
            chatbotInput.placeholder = 'Type your message...';
            chatbotInput.focus();
        }
      };

      // Function to send a suggested message (called from onclick)
      window.sendSuggestedMessage = (text) => {
          chatbotInput.value = text;
          sendMessage(text);
      };

      chatbotSendBtn.addEventListener('click', () => sendMessage());
      chatbotInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          sendMessage();
        }
      });
    }

    // Scroll-to-top button functionality
    const scrollToTopBtn = document.getElementById('scroll-to-top-btn');

    window.addEventListener('scroll', () => {
        if (window.scrollY > 300) { // Show button after scrolling 300px
            scrollToTopBtn.classList.add('show');
        } else {
            scrollToTopBtn.classList.remove('show');
        }
    });

    scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

</script>

</body>
</html>
>>>>>>> e1875ca21aa492b9760c53dac0fe6ebc225cc349
